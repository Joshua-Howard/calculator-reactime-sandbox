{"ast":null,"code":"const snapShot = {\n  tree: null\n};\nconst mode = {\n  jumping: false,\n  paused: false,\n  locked: false\n};\n\nconst linkFiber = require('./linkFiber')(snapShot, mode);\n\nconst timeJump = require('./timeJump')(snapShot, mode);\n\nfunction getRouteURL(node) {\n  if (node.name === 'Router') {\n    return node.state.location.pathname;\n  }\n\n  if (node.children && node.children.length >= 1) {\n    const tempNode = node.children;\n\n    for (let index = 0; index < tempNode.length; index += 1) {\n      return getRouteURL(tempNode[index]);\n    }\n  }\n}\n\nwindow.addEventListener('message', ({\n  data: {\n    action,\n    payload\n  }\n}) => {\n  // runs automatically twice per second with inspectedElement\n  console.log(action);\n\n  switch (action) {\n    case 'jumpToSnap':\n      timeJump(payload); // Get the pathname from payload and add new entry to browser history\n      // MORE: https://developer.mozilla.org/en-US/docs/Web/API/History/pushState\n\n      window.history.pushState('', '', getRouteURL(payload));\n      break;\n\n    case 'setLock':\n      mode.locked = payload;\n      break;\n\n    case 'setPause':\n      mode.paused = payload;\n      break;\n\n    default:\n      break;\n  }\n});\nmodule.exports = linkFiber;","map":null,"metadata":{},"sourceType":"script"}